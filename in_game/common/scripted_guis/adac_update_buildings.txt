adac_update_outdated_tools_key = {
	scope = country
	is_shown = { always = yes }		
	is_valid = { always = yes }		
	effect = 
    { 
        #Update to Lv2 if applicable
        if =
		{
			limit = { can_build_building = building_type:tools_workshop }
			every_owned_location = 
			{
				limit = 
				{	
					any_buildings_in_location = 
					{
						building_type = building_type:tools_guild
					}
					can_build_building = building_type:tools_workshop
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:tools_guild 
					}
					save_temporary_scope_as = target_building
				}
				while =
				{
					limit = {root.gold > 10000}
					count = scope:target_building.building_level
					construct_building = 
					{
						building_type = building_type:tools_workshop
					}
				}
			}
		}
        #Update to Lv3 from Lv1 first. 
        else_if =
		{
			limit = { can_build_building = building_type:iron_foundry }
			every_owned_location = 
			{
				limit = 
				{	
					any_buildings_in_location = 
					{
						building_type = building_type:tools_workshop
					}
					can_build_building = building_type:iron_foundry
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:tools_workshop 
					}
					save_temporary_scope_as = target_building
				}
				while =
				{
					limit = {root.gold > 10000}
					count = scope:target_building.building_level
					construct_building = 
					{
						building_type = building_type:iron_foundry
					}
				}
			}
		}

		if =
		{
			limit = { can_build_building = building_type:iron_mill }
			every_owned_location = 
			{
				limit = 
				{	
					any_buildings_in_location = 
					{
						building_type = building_type:iron_foundry
					}
					can_build_building = building_type:iron_mill
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:iron_foundry 
					}
					save_temporary_scope_as = target_building
				}
				while =
				{
					limit = {root.gold > 10000}
					count = scope:target_building.building_level
					construct_building = 
					{
						building_type = building_type:iron_mill
					}
				}
			}
		}
    }
	confirm_title = {}		
	confirm_text = {}		
	ai_is_valid = { always = false }
	ai_chance = 0
}