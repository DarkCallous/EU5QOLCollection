adac_update_outdated_tools_key = {
	scope = country
	is_shown = { always = yes }		
	is_valid = { always = yes }		
	effect = 
    { 
        #Update to Lv2 if applicable
        if =
		{
			limit = 
			{ 
				can_build_building = building_type:tools_workshop 
				NOT = {can_build_building = building_type:iron_foundry}
			}
			every_owned_location = 
			{
				limit = {can_build_building = building_type:tools_workshop}
				set_local_variable = 
				{
					name = update_nums
					value = 0
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:tools_guild 
					}
					change_local_variable =
					{
						name = update_nums
						add = building_level
					}
				}
				while =
				{
					limit = {root.gold > 10000}
					count = local_var:update_nums
					construct_building = 
					{
						building_type = building_type:tools_workshop
					}
				}
			}
		}
        #Update to Lv3 from Lv1 first. 
        else_if =
		{
			limit = 
			{ 
				can_build_building = building_type:iron_foundry 
				NOT = {can_build_building = building_type:iron_mill}
			}
			every_owned_location = 
			{
				limit = {can_build_building = building_type:iron_foundry}
				set_local_variable = 
				{
					name = update_nums
					value = 0
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:tools_guild 
					}
					change_local_variable =
					{
						name = update_nums
						add = building_level
					}
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:tools_workshop 
					}
					change_local_variable =
					{
						name = update_nums
						add = building_level
					}
				}
				while =
				{
					limit = {root.gold > 10000}
					count = local_var:update_nums
					construct_building = 
					{
						building_type = building_type:iron_foundry
					}
				}
			}
		}
		#Update to Lv4 from Lv1 first. 
		else_if =
		{
			limit = { can_build_building = building_type:iron_mill }
			every_owned_location = 
			{
				limit = {can_build_building = building_type:iron_mill}
				set_local_variable = 
				{
					name = update_nums
					value = 0
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:tools_guild 
					}
					change_local_variable =
					{
						name = update_nums
						add = building_level
					}
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:tools_workshop 
					}
					change_local_variable =
					{
						name = update_nums
						add = building_level
					}
				}
				every_buildings_in_location = 
				{
					limit = 
					{
						building_type = building_type:iron_foundry 
					}
					change_local_variable =
					{
						name = update_nums
						add = building_level
					}
				}
				while =
				{
					limit = {root.gold > 10000}
					count = local_var:update_nums
					construct_building = 
					{
						building_type = building_type:iron_mill
					}
				}
			}
		}
    }
	confirm_title = {}		
	confirm_text = {}		
	ai_is_valid = { always = false }
	ai_chance = 0
}