# Enable buildings menu extension
adac_extend_buildings_context_menu_toggle_gui_key = {
	scope = country
	is_shown = { always = yes }		
	is_valid = { always = yes }		
	effect = 
    { 
        if = {
			limit = 
            {
				has_variable = adac_extend_buildings_context_menu_toggle
			}
			remove_variable = adac_extend_buildings_context_menu_toggle
		}
		else = {
			set_variable = adac_extend_buildings_context_menu_toggle
		} 
    }
	saved_scopes = { scopes }	# List of strings corresponding to scopes you want event targets for in triggers / effects
	confirm_title = {}			# Confirmation window title for this SGUI
	confirm_text = {}			# Confirmation window text for this SGUI
	ai_is_valid = { always = false }
	ai_chance = 0
}

adac_destroy_outdated_tools_key = {
	scope = country
	is_shown = { always = yes }		
	is_valid = { always = yes }		
	effect = 
    { 
		if =
		{
			limit = { can_build_building = building_type:iron_mill }
			every_owned_location = 
			{
				limit = 
				{	
					any_buildings_in_location = 
					{
						building_category = consumer_goods_category
					}
				}
				if = 
				{
					limit = 
					{
						can_build_building = building_type:iron_mill
					}
					destroy_all_buildings_of_type = 
					building_type:tools_guild
					destroy_all_buildings_of_type = 
					building_type:tools_workshop	
					destroy_all_buildings_of_type = 
					building_type:iron_foundry	
				}
			}
		}
		else_if =
		{
			limit = { can_build_building = building_type:iron_foundry }
			every_owned_location = 
			{
				limit = 
				{	
					any_buildings_in_location = 
					{
						building_category = consumer_goods_category
					}
				}
				if = 
				{
					limit = 
					{
						can_build_building = building_type:iron_foundry
					}
					destroy_all_buildings_of_type = 
					building_type:tools_guild
					destroy_all_buildings_of_type = 
					building_type:tools_workshop	
				}
			}
		}
		else_if =
		{
			limit = { can_build_building = building_type:tools_workshop }
			every_owned_location = 
			{
				limit = 
				{	
					any_buildings_in_location = 
					{
						building_category = consumer_goods_category
					}
				}
				if = 
				{
					limit = 
					{
						can_build_building = building_type:tools_workshop
					}
					destroy_all_buildings_of_type = 
					building_type:tools_guild
				}
			}
		}
    }
	confirm_title = {}		
	confirm_text = {}		
	ai_is_valid = { always = false }
	ai_chance = 0
}